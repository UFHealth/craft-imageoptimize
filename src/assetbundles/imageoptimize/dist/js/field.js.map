{"version":3,"sources":["webpack://imageoptimize/../src/assetbundles/imageoptimize/src/js/OptimizedImagesField.js"],"names":["imageLoaded","image","url","src","href","length","iTime","performance","getEntriesByName","undefined","elem","parentNode","nextElementSibling","querySelector","innerHTML","bytes","si","dp","thresh","Math","abs","units","u","r","round","toFixed","humanFileSize","decodedBodySize","$","window","document","pluginName","defaults","Plugin","element","options","this","extend","_defaults","_name","init","prototype","id","querySelectorAll","complete","addEventListener","event","target","fn","each","data","jQuery","Craft","OptimizedImagesInput","Garnish","Base","inputNamePrefix","inputIdPrefix","$container","$blockContainer","$addBlockBtnContainer","$addBlockBtnGroup","$addBlockBtnGroupBtns","blockSort","blockSelect","sizesWrapperId","formatInputId","children","_this","find","index","value","menuBtn","$value","MenuBtn","menu","settings","onOptionSelect","proxy","option","onMenuOptionSelect","$blocks","DragSort","handle","axis","collapseDraggees","magnetStrength","helperLagBase","helperOpacity","onSortChange","resetVariantBlockOrder","addListener","ev","addVariantBlock","addAspectRatioHandlers","reIndexVariants","$option","container","$btn","closest","hasClass","deleteVariantBlock","getHiddenBlockCss","$block","opacity","marginBottom","outerHeight","variantIndex","elements","str","attr","replace","disabledDeleteItem","$menuItem","$menuList","addClass","disable","removeClass","enable","slideToggle","field","$target","x","y","custom","slideDown","slideUp","val","clone","hide","css","velocity","insertBefore","appendTo","addItems","insertAfter","remove"],"mappings":"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","file":"js/field.js","sourcesContent":["/**\n * Image Optimize plugin for Craft CMS\n *\n * OptimizedImages Field JS\n *\n * @author    nystudio107\n * @copyright Copyright (c) 2017 nystudio107\n * @link      https://nystudio107.com\n * @package   ImageOptimize\n * @since     1.2.0\n */\n\n/**\n * Convert the passed in bytes into a human readable format\n *\n * @param bytes\n * @param si\n * @param dp\n * @returns {string}\n */\nfunction humanFileSize(bytes, si=false, dp=1) {\n    const thresh = si ? 1000 : 1024;\n\n    if (Math.abs(bytes) < thresh) {\n        return bytes + ' B';\n    }\n\n    const units = si\n        ? ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n        : ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\n    let u = -1;\n    const r = 10**dp;\n\n    do {\n        bytes /= thresh;\n        ++u;\n    } while (Math.round(Math.abs(bytes) * r) / r >= thresh && u < units.length - 1);\n\n\n    return bytes.toFixed(dp) + ' ' + units[u];\n}\n\n/**\n * After an image has loaded, query the performance API for the decodedBodySize\n *\n * @param image\n */\nfunction imageLoaded(image) {\n    const url = image.src || image.href;\n    if (url && url.length > 0) {\n        const iTime = performance.getEntriesByName(url)[0];\n        if (iTime !== undefined) {\n            const elem = image.parentNode.parentNode.parentNode.nextElementSibling.querySelector('.io-file-size');\n            if (elem) {\n                elem.innerHTML = humanFileSize(iTime.decodedBodySize, true);\n            }\n        }\n    }\n}\n\n;(function ( $, window, document, undefined ) {\n\n    var pluginName = \"ImageOptimizeOptimizedImages\",\n        defaults = {\n        };\n\n    // Plugin constructor\n    function Plugin( element, options ) {\n        this.element = element;\n\n        this.options = $.extend( {}, defaults, options) ;\n\n        this._defaults = defaults;\n        this._name = pluginName;\n\n        this.init();\n    }\n\n    Plugin.prototype = {\n\n        init: function(id) {\n            var _this = this;\n\n            $(function () {\n\n                /* -- _this.options gives us access to the $jsonVars that our FieldType passed down to us */\n\n                const images = document.querySelectorAll(\"img.io-preview-image\");\n                for (const image of images) {\n                    if (image.complete) {\n                        imageLoaded(image);\n                    } else {\n                        image.addEventListener('load', (event) => {\n                            imageLoaded(event.target);\n                        });\n                    }\n                }\n            });\n        }\n    };\n\n    // A really lightweight plugin wrapper around the constructor,\n    // preventing against multiple instantiations\n    $.fn[pluginName] = function ( options ) {\n        return this.each(function () {\n            if (!$.data(this, \"plugin_\" + pluginName)) {\n                $.data(this, \"plugin_\" + pluginName,\n                    new Plugin( this, options ));\n            }\n        });\n    };\n\n})( jQuery, window, document );\n\nCraft.OptimizedImagesInput = Garnish.Base.extend(\n    {\n        id: null,\n        inputNamePrefix: null,\n        inputIdPrefix: null,\n\n        $container: null,\n        $blockContainer: null,\n        $addBlockBtnContainer: null,\n        $addBlockBtnGroup: null,\n        $addBlockBtnGroupBtns: null,\n\n        blockSort: null,\n        blockSelect: null,\n\n        init: function(id, inputNamePrefix, sizesWrapperId) {\n\n            this.id = id;\n            this.inputNamePrefix = inputNamePrefix;\n            this.inputIdPrefix = Craft.formatInputId(this.inputNamePrefix);\n\n            this.$container = $('#' + this.id);\n            this.$blockContainer = this.$container.children('.variant-blocks');\n            this.$addBlockBtnContainer = this.$container.children('.buttons');\n            this.$addBlockBtnGroup = this.$addBlockBtnContainer.children('.btngroup');\n            this.$addBlockBtnGroupBtns = this.$addBlockBtnGroup.children('.btn');\n\n            // Create our action button menus\n            var _this = this;\n            this.$blockContainer.find('> > .actions > .settings').each(function (index, value) {\n                var $value = $(value);\n                var menuBtn;\n                if ($value.data('menubtn')) {\n                    menuBtn = $value.data('menubtn');\n                } else {\n                    menuBtn = new Garnish.MenuBtn(value);\n                }\n                menuBtn.menu.settings.onOptionSelect = $.proxy(function(option) {\n                    this.onMenuOptionSelect(option, menuBtn);\n                }, _this);\n            });\n\n            var $blocks = this.$blockContainer.children();\n\n            this.blockSort = new Garnish.DragSort($blocks, {\n                handle: '> .actions > .move',\n                axis: 'y',\n                collapseDraggees: true,\n                magnetStrength: 4,\n                helperLagBase: 1.5,\n                helperOpacity: 0.9,\n                onSortChange: $.proxy(function() {\n                    this.resetVariantBlockOrder();\n                }, this)\n            });\n\n            this.addListener(this.$addBlockBtnGroupBtns, 'click', function(ev) {\n                var type = $(ev.target).data('type');\n                this.addVariantBlock(null);\n            });\n\n            this.addAspectRatioHandlers();\n            this.reIndexVariants();\n        },\n\n        onMenuOptionSelect: function(option, menuBtn) {\n            var $option = $(option);\n            var container = menuBtn.$btn.closest('.matrixblock');\n\n            switch ($option.data('action')) {\n                case 'add': {\n                    this.addVariantBlock(container);\n                    break;\n                }\n                case 'delete': {\n                    if (!$option.hasClass('disabled')) {\n                        this.deleteVariantBlock(container);\n                    }\n                    break;\n                }\n            }\n        },\n\n        getHiddenBlockCss: function($block) {\n            return {\n                opacity: 0,\n                marginBottom: -($block.outerHeight())\n            };\n        },\n\n        // Re-index all of the variant blocks\n        reIndexVariants: function() {\n            this.$blockContainer = this.$container.children('.variant-blocks');\n            var $blocks = this.$blockContainer.children();\n            $blocks.each(function (index, value) {\n                var variantIndex = index;\n                var $value = $(value);\n                var elements = $value.find('div .field, label, input, select');\n\n                // Re-index all of the element attributes\n                $(elements).each(function (index, value) {\n                    // id attributes\n                    var str = $(value).attr('id');\n                    if (str) {\n                        str = str.replace(/\\-([0-9]+)\\-/g, \"-\" + variantIndex +\"-\");\n                        $(value).attr('id', str);\n                    }\n                    // for attributes\n                    str = $(value).attr('for');\n                    if (str) {\n                        str = str.replace(/\\-([0-9]+)\\-/g, \"-\" + variantIndex +\"-\");\n                        $(value).attr('for', str);\n                    }\n                    // Name attributes\n                    str = $(value).attr('name');\n                    if (str) {\n                        str = str.replace(/\\[([0-9]+)\\]/g, \"[\" + variantIndex +\"]\");\n                        $(value).attr('name', str);\n                    }\n                });\n            });\n            var disabledDeleteItem = false;\n            // If we only have one block, don't allow it to be deleted\n            if ($blocks.length == 1) {\n                disabledDeleteItem = true;\n            }\n            $blocks.find('> .actions > .settings').each(function (index, value) {\n                var $value = $(value);\n                var menuBtn;\n                if ($value.data('menubtn')) {\n                    menuBtn = $value.data('menubtn');\n                    $menuItem = $(menuBtn.menu.$menuList[1]);\n                    if (disabledDeleteItem) {\n                        $menuItem.find(\"> li > a\").addClass('disabled').disable();\n                    } else {\n                        $menuItem.find(\"> li > a\").removeClass('disabled').enable();\n                    }\n                }\n            });\n\n        },\n\n        addAspectRatioHandlers: function () {\n            this.addListener($('.lightswitch'), 'click', function(ev) {\n                var $target = $(ev.target);\n                var $block = $target.closest('.matrixblock');\n                $block.find('.io-aspect-ratio-wrapper').slideToggle();\n            });\n            this.addListener($('.io-select-ar-box'), 'click', function(ev) {\n                var $target = $(ev.target);\n                var x = $(ev.target).data('x'),\n                    y = $(ev.target).data('y'),\n                    custom = $(ev.target).data('custom'),\n                    field, $block;\n                // Select the appropriate aspect ratio\n                $block = $target.closest('.matrixblock');\n                $block.find('.io-select-ar-box').each(function (index, value) {\n                    $(value).removeClass('io-selected-ar-box');\n                });\n                $target.addClass('io-selected-ar-box');\n\n                // Handle setting the actual field values\n                if (custom) {\n                    $block.find('.io-custom-ar-wrapper').slideDown();\n                } else {\n                    $block.find('.io-custom-ar-wrapper').slideUp();\n                    field = $block.find('input')[2];\n                    $(field).val(x);\n                    field = $block.find('input')[3];\n                    $(field).val(y);\n                }\n            });\n        },\n\n        addVariantBlock: function(container) {\n            var _this = this;\n            $block = $(this.$blockContainer.children()[0]).clone();\n            // Reset to default values\n            $block.find('.io-select-ar-box').each(function (index, value) {\n                if (index === 0) {\n                    $(value).addClass('io-selected-ar-box');\n                } else {\n                    $(value).removeClass('io-selected-ar-box');\n                }\n            });\n            $block.find('.io-custom-ar-wrapper').hide();\n            field = $block.find('input')[0];\n            $(field).val(1200);\n            field = $block.find('input')[1];\n            $(field).val(1);\n            field = $block.find('input')[2];\n            $(field).val(16);\n            field = $block.find('input')[3];\n            $(field).val(9);\n            field = $block.find('select')[0];\n            $(field).val(82);\n            field = $block.find('select')[1];\n            $(field).val('jpg');\n            $block.css(this.getHiddenBlockCss($block)).velocity({\n                opacity: 1,\n                'margin-bottom': 10\n            }, 'fast', $.proxy(function() {\n\n                // Insert the block in the right place\n                if (container) {\n                    $block.insertBefore(container);\n                } else {\n                    $block.appendTo(this.$blockContainer);\n                }\n                // Update the Garnish UI controls\n                this.blockSort.addItems($block);\n                this.addAspectRatioHandlers();\n                $block.find('.settings').each(function (index, value) {\n                    var $value = $(value),\n                        menuBtn,\n                        menu;\n\n                    menu = _this.$container.find('.io-menu-clone > .menu').clone();\n                    $(menu).insertAfter($value);\n                    menuBtn = new Garnish.MenuBtn(value);\n\n                    menuBtn.menu.settings.onOptionSelect = $.proxy(function(option) {\n                        _this.onMenuOptionSelect(option, menuBtn);\n                    }, this);\n                });\n                this.reIndexVariants();\n            }, this));\n        },\n\n        deleteVariantBlock: function(container) {\n            var _this = this;\n            container.velocity(this.getHiddenBlockCss(container), 'fast', $.proxy(function() {\n                container.remove();\n                _this.reIndexVariants();\n            }, this));\n        },\n\n        resetVariantBlockOrder: function() {\n            this.reIndexVariants();\n        }\n\n    });\n"],"sourceRoot":""}